{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Downloads\\\\react_project\\\\react-training-eve_session_7-28_5_5\\\\src\\\\screens\\\\CountryDetails.js\";\nimport React from \"react\";\nimport { AppContext } from \"../contexts/AppContext\";\nimport { WEATHER_API } from \"../utils/constants\";\nimport Card from \"../components/Card\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CountryDetails extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.getWeatherDetails = () => {\n      var _this$context$country, _this$context$country2;\n\n      fetch(`${WEATHER_API}&query=${(_this$context$country = this.context.country) === null || _this$context$country === void 0 ? void 0 : (_this$context$country2 = _this$context$country.capital) === null || _this$context$country2 === void 0 ? void 0 : _this$context$country2[0]}`).then(resp => {\n        resp.json().then(data => {\n          this.context.setWeather(data);\n          this.props.history.push(\"/weather\");\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  render() {\n    var _country$name, _country$latlng, _country$latlng2;\n\n    const {\n      country\n    } = this.context;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Country Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: (_country$name = country.name) === null || _country$name === void 0 ? void 0 : _country$name.common\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: country.flags.png\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Population: \", country.population]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Latitude: \", (_country$latlng = country.latlng) === null || _country$latlng === void 0 ? void 0 : _country$latlng[0], \", Longitude: \", (_country$latlng2 = country.latlng) === null || _country$latlng2 === void 0 ? void 0 : _country$latlng2[1]]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.getWeatherDetails,\n          className: \"button\",\n          children: \"Capital Weather\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nCountryDetails.contextType = AppContext;\nexport default CountryDetails;","map":{"version":3,"sources":["C:/Users/lenovo/Downloads/react_project/react-training-eve_session_7-28_5_5/src/screens/CountryDetails.js"],"names":["React","AppContext","WEATHER_API","Card","CountryDetails","Component","getWeatherDetails","fetch","context","country","capital","then","resp","json","data","setWeather","props","history","push","catch","err","console","log","render","name","common","flags","png","population","latlng","contextType"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,SAASC,WAAT,QAA4B,oBAA5B;AAEA,OAAOC,IAAP,MAAiB,oBAAjB;;;AAEA,MAAMC,cAAN,SAA6BJ,KAAK,CAACK,SAAnC,CAA4C;AAAA;AAAA;;AAAA,SAK1CC,iBAL0C,GAKtB,MAAM;AAAA;;AACxBC,MAAAA,KAAK,CAAE,GAAEL,WAAY,UAAf,yBAAwB,KAAKM,OAAL,CAAaC,OAArC,oFAAwB,sBAAsBC,OAA9C,2DAAwB,uBAAgC,CAAhC,CAAmC,EAA5D,CAAL,CACCC,IADD,CACOC,IAAD,IAAU;AACdA,QAAAA,IAAI,CAACC,IAAL,GAAYF,IAAZ,CAAiBG,IAAI,IAAI;AACvB,eAAKN,OAAL,CAAaO,UAAb,CAAwBD,IAAxB;AACA,eAAKE,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AACD,SAHD;AAID,OAND,EAOCC,KAPD,CAOOC,GAAG,IAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OATD;AAUD,KAhByC;AAAA;;AAkB1CG,EAAAA,MAAM,GAAE;AAAA;;AACN,UAAM;AAAEd,MAAAA;AAAF,QAAc,KAAKD,OAAzB;AAEA,wBACE;AAAA,6BACE,QAAC,IAAD;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA,qCAAKC,OAAO,CAACe,IAAb,kDAAK,cAAcC;AAAnB;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAK,UAAA,GAAG,EAAEhB,OAAO,CAACiB,KAAR,CAAcC;AAAxB;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAA,qCAAgBlB,OAAO,CAACmB,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE;AAAA,sDAAcnB,OAAO,CAACoB,MAAtB,oDAAc,gBAAiB,CAAjB,CAAd,uCAAgDpB,OAAO,CAACoB,MAAxD,qDAAgD,iBAAiB,CAAjB,CAAhD;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,eAME;AACE,UAAA,OAAO,EAAE,KAAKvB,iBADhB;AAEE,UAAA,SAAS,EAAC,QAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAiBD;;AAtCyC;;AAAtCF,c,CAGG0B,W,GAAc7B,U;AAsCvB,eAAeG,cAAf","sourcesContent":["import React from \"react\";\nimport { AppContext } from \"../contexts/AppContext\";\nimport { WEATHER_API } from \"../utils/constants\"; \n\nimport Card from \"../components/Card\";\n\nclass CountryDetails extends React.Component{\n  \n  // const context = React.useContext(AppContext)\n  static contextType = AppContext;\n\n  getWeatherDetails = () => {\n    fetch(`${WEATHER_API}&query=${this.context.country?.capital?.[0]}`)\n    .then((resp) => {\n      resp.json().then(data => {\n        this.context.setWeather(data);\n        this.props.history.push(\"/weather\");\n      })\n    })\n    .catch(err => {\n      console.log(err);\n    })\n  }\n\n  render(){\n    const { country } = this.context;\n\n    return(\n      <div>\n        <Card>\n          <h2>Country Details</h2>\n          <h3>{country.name?.common}</h3>\n          <img src={country.flags.png} />\n          <p>Population: {country.population}</p>\n          <p>Latitude: {country.latlng?.[0]}, Longitude: {country.latlng?.[1]}</p>\n          <button\n            onClick={this.getWeatherDetails}\n            className=\"button\"\n          >\n            Capital Weather\n          </button>\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default CountryDetails;"]},"metadata":{},"sourceType":"module"}